apiVersion: v1
kind: Service
metadata:
  annotations:
  #   "io.cilium/lb-ipam-ips": "192.168.40.169"
    kube-vip.io/loadbalancerIPs: 192.168.40.187
    # metallb.universe.tf/loadBalancerIPs: 192.168.40.181
  # labels:
  #   app=longhorn-ui
  name: minio-loadbalancer
  namespace: minio
spec:
  ports:
  - port: 9000
    name: http
    protocol: TCP
    targetPort: 9000
  - port: 9001
    name: console
    protocol: TCP
    targetPort: 9001
  type: LoadBalancer
  loadBalancerIP: 192.168.40.187
  selector:
    app=minio


# ---
# apiVersion: v1
# kind: Service
# metadata:
#   name: minio
#   namespace: minio
#   # labels:
#   #   color: blue
#   annotations:
#     "io.cilium/lb-ipam-sharing-key": "minio"
#     "io.cilium/lb-ipam-ips": "192.168.40.181"
# spec:
#   type: LoadBalancer
#   ports:
#   - port: 9000
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   name: minio-console
#   namespace: minio
#   # labels:
#   #   color: minio
#   annotations:
#     "io.cilium/lb-ipam-sharing-key": "minio"
#     "io.cilium/lb-ipam-ips": "192.168.40.181"
# spec:
#   type: LoadBalancer
#   ports:
#   - port: 9001