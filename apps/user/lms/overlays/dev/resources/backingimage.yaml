---
apiVersion: longhorn.io/v1beta2
kind: BackingImage
metadata:
  finalizers:
    - longhorn.io
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-3"
  name: pvc-lms-config
  namespace: longhorn-system
spec:
  sourceType: restore
  sourceParameters:
      backup-url: "s3://k3s-longhorn-backup@us-east-1/?backingImage=pvc-lms-config"
      concurrent-limit: "2"
  checksum: a33bea925366becd96c7afc501822914e6028d439a97868d1a48a7a31a882da1600714802d607c908870d64973d31129eb1350c9e5cde985435411205dbdf808

# ---
# apiVersion: longhorn.io/v1beta2
# kind: BackupBackingImage
# metadata:
#   finalizers:
#     - longhorn.io
#   annotations:
#     argocd.argoproj.io/hook: PostSync
#     argocd.argoproj.io/sync-wave: "1"
#     argocd.argoproj.io/hook-delete-policy: HookSucceeded
#   name: pvc-lms-config
#   namespace: longhorn-system
# spec:
#   userCreated: true
#   labels:
#     usecase: test
#     type: qcow2


# apiVersion: longhorn.io/v1beta2
# kind: BackingImage
# metadata:
#   name: parrot
#   namespace: longhorn-system
# spec:
#   sourceType: download
#   sourceParameters:
#     url: https://longhorn-backing-image.s3-us-west-1.amazonaws.com/parrot.raw
#   checksum: 304f3ed30ca6878e9056ee6f1b02b328239f0d0c2c1272840998212f9734b196371560b3b939037e4f4c2884ce457c2cbc9f0621f4f5d1ca983983c8cdf8cd9a
