apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    annotations:
        argocd.argoproj.io/compare-options: IgnoreExtraneous
        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
        argocd.argoproj.io/sync-wave: "10"
        cert-manager.io/cluster-issuer: route53-letsencrypt-production
        external-dns.alpha.kubernetes.io/target: ENC[AES256_GCM,data:+fHRoq0UiDJZDZg62RPN/C0eGMVhdw==,iv:m7q8FkM57zONA7Bu+MqCrzi99TxsJv4EUFTWhT/YHdc=,tag:6Z4HQLM6T1D7eQrCkmQhfg==,type:str]
        kubernetes.io/ingress.class: traefik-external
    labels:
        app.kubernetes.io/name: esphome
    name: esphome
    namespace: iot
spec:
    entryPoints:
        - websecure
    routes:
        - kind: Rule
          match: ENC[AES256_GCM,data:xULWu/WEBiZt3avVkdhQ3h4Ixd62/5XcoUmXAtENdUPtyAWsnyQ=,iv:alwOtpMuz+p61h+o+aUKIWDo1jcriK/584veE8agE04=,tag:h+8VRmsZZMv2TSaN87N6fg==,type:str]
          middlewares:
            - name: chain-traefik-dashboard
              namespace: traefik
          services:
            - kind: TraefikService
              name: esphome
              port: 6052
    tls:
        domains:
            - main: ENC[AES256_GCM,data:3rejXE3gYd5d7xXHU7xY7r/zzC4qvg==,iv:zNPGBQKoZU4GTUNwRwVJUsgUqY9FRYbezlvWxnluUPc=,tag:/kM9UqnZMCSmkE/IjRZhfw==,type:str]
              sans:
                - ENC[AES256_GCM,data:/xt7cKpafZLw3THFfTZ0be17Pbjrnjc=,iv:IDHn93tM3DEUTBXS484wOoGy8asPiYQlaxjgSSt7HJM=,tag:O2kTrlvUyfwmZ1yvsh0LHw==,type:str]
        options:
            name: tls-ver13
            namespace: traefik
        secretName: esphome-cf-production
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1deg9tqt7jtddnqme6nvcl72czns80z0n25u8k9pw5830dn4arsks5pua4h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBKVDY3eU1PelZYVDc1MWhN
            Zmx6M3NUNnYzTlJwMEg1d2ZlQTFUakNBaWlFCk9HQ3UrdFF5aVJ2NXh5YXlmRjlV
            YmJ0dGJBL2RvOUlUd29BWk5sclN4MWMKLS0tIEczK1hLSFBFcGNjOHBOU1VIMTdu
            Mlh5MGhnMXlQU29wYkV4MVY5cnFIZE0KaUEcxw0kc3KpN0qZsTdWA0fyxuTq0AbN
            oPKcv/S9kTJOyODP0bvLudntc2g7xG6liruogUOGCi4vk4JUAdTTwQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-06-22T19:47:03Z"
    mac: ENC[AES256_GCM,data:cZC4Ml5p8cUvHGt6WrRynduXddXYvLJxJq9lO4WcnuV9yTK8PtgQIAog24Wv0I0XT6w3MiFQ6cTaerpUhFVnI6RTgvGZkRmzA97qIB468oof0NyZs3SxH7/o2xfxL7MeM7vpddYgW55/lrdrM7WVXjAW+zFMNPZuDAKHZbvk1oA=,iv:1m8ky1us2jXKOKhb1E0ASTQXZlC3ChDYKn2VKxckdHU=,tag:eZ9Hgxh8Cl3nV7NasPjFIA==,type:str]
    pgp:
        - created_at: "2024-06-22T19:47:03Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA0R6oz1GmNjVARAAi92pocuLyhhTU8zuKDf5rqya4JBsmEfzozRcd05OCH7P
            B0Y7/06RQK5kjaE+PCo3uwlBeuQjVeXM9URxvJpAfKRx67TyWk+Fr5Bx9SZCbODs
            Ey6ASUK+TmuSrW42WaPtvl5Ge9D4igtEdlQS44gvCyBL6nIO8z2ivROHhv8CYyvY
            hfAnbpvTLQ9UTqzAsIve3p6sjYppkS3aApDYfMGbqntLPfe4e8Nc2CG8pIV4hchc
            GpUZN571eskFDD0qFpn3SEX4nWqagkME41XkK+jVpEp0YNklJwo1kd3/VMsDQ1AV
            3IA7G4hkqRCLqbquLxx9YLZZQtB5/q8jaR46YH56eBKfg8EllifBCV+3Li0B0Aur
            kuBGMY8tqwR3rhFNz23X8shMp6jeIEwzFbj2KBm5cSdxj1hSGn88Y5JPl61B7gvV
            FVEuosPTfclulZYFFC7BAUKAHkfChVkAD52RKIWklega+AvKQI/gTzgBw+5lWJSb
            hToXSawJK9gsOSpOHCFfTQtf6LYbSooN4Sa/TBo3Rf8qZs1YlpCahbSD9ftEpwQ3
            YfJIeIz5dJ6FQsxVCmBCPyphTilkJ1GNhXUEQM0QnA6Yb8in9fNS5sPG5iHdAFED
            hX644eqf7kvMInNq9leeBTKzJZwiogFu33DQcRVSn1NufzimYN9ldRPSqywk52rS
            XgEXy+wIKB4qJ8pUEGT8URYvZudJnF/tyCEsBqOQHyiim37Lp+ykezZ4eqQYsnFH
            PdEvpXlWQy7EuG5bNmm9XVsVcLePOuJug4aBBmF98LDqvnyWOLZubF5PdRcjzgU=
            =0oIS
            -----END PGP MESSAGE-----
          fp: 6D3FE55384B558E06A1BA364586EFA784A32C981
    encrypted_regex: ^(externalName|external-dns.alpha.kubernetes.io/hostname|sans|main|match|external-dns.alpha.kubernetes.io/target|dnsNames|commonName|data|stringData|dnsNames|email|accessKeyID|region|hostedZoneID|role|dnsZones)$
    version: 3.8.1
---
apiVersion: traefik.io/v1alpha1
kind: TraefikService
metadata:
    annotations:
        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
        argocd.argoproj.io/sync-wave: "10"
    labels:
        app.kubernetes.io/name: esphome
    name: esphome
    namespace: argocd
spec:
    weighted:
        services:
            - name: esphome
              port: 6052
              weight: 1
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1deg9tqt7jtddnqme6nvcl72czns80z0n25u8k9pw5830dn4arsks5pua4h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBKVDY3eU1PelZYVDc1MWhN
            Zmx6M3NUNnYzTlJwMEg1d2ZlQTFUakNBaWlFCk9HQ3UrdFF5aVJ2NXh5YXlmRjlV
            YmJ0dGJBL2RvOUlUd29BWk5sclN4MWMKLS0tIEczK1hLSFBFcGNjOHBOU1VIMTdu
            Mlh5MGhnMXlQU29wYkV4MVY5cnFIZE0KaUEcxw0kc3KpN0qZsTdWA0fyxuTq0AbN
            oPKcv/S9kTJOyODP0bvLudntc2g7xG6liruogUOGCi4vk4JUAdTTwQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-06-22T19:47:03Z"
    mac: ENC[AES256_GCM,data:cZC4Ml5p8cUvHGt6WrRynduXddXYvLJxJq9lO4WcnuV9yTK8PtgQIAog24Wv0I0XT6w3MiFQ6cTaerpUhFVnI6RTgvGZkRmzA97qIB468oof0NyZs3SxH7/o2xfxL7MeM7vpddYgW55/lrdrM7WVXjAW+zFMNPZuDAKHZbvk1oA=,iv:1m8ky1us2jXKOKhb1E0ASTQXZlC3ChDYKn2VKxckdHU=,tag:eZ9Hgxh8Cl3nV7NasPjFIA==,type:str]
    pgp:
        - created_at: "2024-06-22T19:47:03Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA0R6oz1GmNjVARAAi92pocuLyhhTU8zuKDf5rqya4JBsmEfzozRcd05OCH7P
            B0Y7/06RQK5kjaE+PCo3uwlBeuQjVeXM9URxvJpAfKRx67TyWk+Fr5Bx9SZCbODs
            Ey6ASUK+TmuSrW42WaPtvl5Ge9D4igtEdlQS44gvCyBL6nIO8z2ivROHhv8CYyvY
            hfAnbpvTLQ9UTqzAsIve3p6sjYppkS3aApDYfMGbqntLPfe4e8Nc2CG8pIV4hchc
            GpUZN571eskFDD0qFpn3SEX4nWqagkME41XkK+jVpEp0YNklJwo1kd3/VMsDQ1AV
            3IA7G4hkqRCLqbquLxx9YLZZQtB5/q8jaR46YH56eBKfg8EllifBCV+3Li0B0Aur
            kuBGMY8tqwR3rhFNz23X8shMp6jeIEwzFbj2KBm5cSdxj1hSGn88Y5JPl61B7gvV
            FVEuosPTfclulZYFFC7BAUKAHkfChVkAD52RKIWklega+AvKQI/gTzgBw+5lWJSb
            hToXSawJK9gsOSpOHCFfTQtf6LYbSooN4Sa/TBo3Rf8qZs1YlpCahbSD9ftEpwQ3
            YfJIeIz5dJ6FQsxVCmBCPyphTilkJ1GNhXUEQM0QnA6Yb8in9fNS5sPG5iHdAFED
            hX644eqf7kvMInNq9leeBTKzJZwiogFu33DQcRVSn1NufzimYN9ldRPSqywk52rS
            XgEXy+wIKB4qJ8pUEGT8URYvZudJnF/tyCEsBqOQHyiim37Lp+ykezZ4eqQYsnFH
            PdEvpXlWQy7EuG5bNmm9XVsVcLePOuJug4aBBmF98LDqvnyWOLZubF5PdRcjzgU=
            =0oIS
            -----END PGP MESSAGE-----
          fp: 6D3FE55384B558E06A1BA364586EFA784A32C981
    encrypted_regex: ^(externalName|external-dns.alpha.kubernetes.io/hostname|sans|main|match|external-dns.alpha.kubernetes.io/target|dnsNames|commonName|data|stringData|dnsNames|email|accessKeyID|region|hostedZoneID|role|dnsZones)$
    version: 3.8.1
